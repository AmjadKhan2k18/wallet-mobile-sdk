"use strict";(self.webpackChunkmobile_wallet_protocol=self.webpackChunkmobile_wallet_protocol||[]).push([[702],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,f=d["".concat(s,".").concat(m)]||d[m]||u[m]||i;return n?r.createElement(f,o(o({ref:t},c),{},{components:n})):r.createElement(f,o({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5348:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const i={title:"Setup",slug:"android-setup",category:"633d1d37bc7103008654c123"},o=void 0,l={unversionedId:"client-sdk/android-setup",id:"client-sdk/android-setup",title:"Setup",description:"In order for your app to interact with Coinbase Wallet, you must add a queries element to your AndroidManifest.xml file, specifying the package name for Coinbase Wallet, org.toshi.",source:"@site/docs/client-sdk/android-setup.md",sourceDirName:"client-sdk",slug:"/client-sdk/android-setup",permalink:"/wallet-mobile-sdk/docs/client-sdk/android-setup",draft:!1,tags:[],version:"current",frontMatter:{title:"Setup",slug:"android-setup",category:"633d1d37bc7103008654c123"},sidebar:"clientSdkSidebar",previous:{title:"Install",permalink:"/wallet-mobile-sdk/docs/client-sdk/android-install"},next:{title:"Establishing a connection",permalink:"/wallet-mobile-sdk/docs/client-sdk/android-establishing-a-connection"}},s={},p=[],c={toc:p};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"In order for your app to interact with Coinbase Wallet, you must add a ",(0,a.kt)("a",{parentName:"p",href:"https://developer.android.com/guide/topics/manifest/queries-element"},"queries element")," to your ",(0,a.kt)("inlineCode",{parentName:"p"},"AndroidManifest.xml")," file, specifying the package name for Coinbase Wallet, ",(0,a.kt)("inlineCode",{parentName:"p"},"org.toshi"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml",metastring:"AndroidManifest.xml","AndroidManifest.xml":!0},'<queries>\n      <package android:name="org.toshi" />\n</queries>\n')),(0,a.kt)("p",null,"Before the SDK can be used, it needs to be configured with an App Link to your application. This callback URL will be used by the Coinbase Wallet application to navigate back to your application."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:"Kotlin",Kotlin:!0},'CoinbaseWalletSDK(\n    appContext = applicationContext,\n    domain = Uri.parse("https://www.myappxyz.com"),\n    openIntent = { intent -> launcher.launch(intent) }\n)\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java",metastring:"Java",Java:!0},'new CoinbaseWalletSDK(\n    Uri.parse("https://www.myappxyz.com"),\n    getApplicationContext(),\n    CBW_PACKAGE_NAME,\n    intent -> {\n        startActivityForResult(intent, CBW_ACTIVITY_RESULT_CODE);\n    }\n);\n')),(0,a.kt)("p",null,"When your application receives a response from Coinbase Wallet via App Links, this URL needs to be handed off to the SDK via the ",(0,a.kt)("inlineCode",{parentName:"p"},"handleResponse")," function."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:"Kotlin",Kotlin:!0},"launcher = registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->\n   val uri = result.data?.data ?: return@registerForActivityResult\n   client.handleResponse(uri)\n}\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java",metastring:"Java",Java:!0},"@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n   super.onActivityResult(requestCode, resultCode, data);\n\n   if (requestCode != CBW_ACTIVITY_RESULT_CODE) {\n       return;\n   }\n\n   if (data == null) {\n       return;\n   }\n\n   Uri url = data.getData();\n   client.handleResponse(url);\n}\n")),(0,a.kt)("p",null,"An example is provided in our ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/coinbase/wallet-mobile-sdk/blob/master/android/example/src/main/java/com/coinbase/android/beta/MainActivity.kt#L27"},"sample application"),"."))}u.isMDXComponent=!0}}]);